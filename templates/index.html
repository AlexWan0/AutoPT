<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" href="https://unpkg.com/chota@latest">
	<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<meta id="jinja_data" data-videos="{{ videos }}">
	<style type="text/css">
		table{
			width:100%;
		}
		th{
			border-bottom: 2px solid rgba(0, 0, 0, 0.5);
		}
		td{
			border-bottom: 1px solid rgba(0, 0, 0, 0.5);
		}
		th, td{
			padding-left:20px;
		}
		.noselect {
		-webkit-touch-callout: none; /* iOS Safari */
		-webkit-user-select: none; /* Safari */
		-khtml-user-select: none; /* Konqueror HTML */
		-moz-user-select: none; /* Old versions of Firefox */
		-ms-user-select: none; /* Internet Explorer/Edge */
		user-select: none; /* Non-prefixed version, currently*/
		}
		.table_row:hover{
			color: rgba(0, 0, 0, 0.6);
			cursor: pointer;
		}
		.table_cont{
			margin-left:80px;
			margin-right:80px;
		}
		.bottombar{
			bottom: 0;
			background-color: white;
			width: 100vw;
			height: 30vh;
			box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.8);
			overflow-y:scroll;
		}
		.row{
			margin:0px;
		}
		.difficulty{
			width:20vw;
		}
		.brand{
			margin-left:50px;
			margin-top:40px;
		}
		.tabs{
			margin-right:75px;
			height:60px;
			margin-top:20px;
		}
		.nav{
			margin-bottom: 50px;
			margin-top: 25px;
		}
		.cart_card{
			width:400px;
			height:50px;
			margin-left:40px;
			margin-bottom:40px;
			float:left;
		}
		.set_title{
			margin-left:40px;
			margin-top:30px;
			margin-bottom:20px;
		}
		.start_cont{
			margin-right:40px;
		}
	</style>
	<script>
		var idx_array = [];

		$(function(){
			var data = JSON.parse($('#jinja_data').data('videos').replace(/'/g, '"'));

			console.log(data);

			$('.table_row').click(function(){
				var idx = $(this).data('idx');
				var data_idx = data[idx];
				$('.bottombar').append("<div class='card cart_card'><p class='row'>"+data_idx['vid_name']+"</p></div>");

				idx_array.push(idx);

				console.log(idx_array);

				$('.start_button').attr('href', '/exercise?idx=' + idx_array.join());
			});
		});
	</script>
</head>
<body>
	<nav class='nav'>
		<div class='nav-left'>
			<img style="max-width: 100%;max-height: 9vh;margin-left: 65px;margin-top: 20px;" src="{{url_for('static', filename='logo.png')}}"></img>
		</div>
		<div class='nav-right'>
			<div class="tabs">
				<a class="active" href='/'>Exercise</a>
				<a href='/food'>Nutrition</a>
			</div>
		</div>
	</nav>
	<div class='is-fixed bottombar'>
		<nav class='set_title nav'>
			<div class='nav-left'>
				<h2>Set</h2>
			</div>
			<div class='nav-right start_cont'>
				<a class="button primary start_button">Start!</a>
			</div>
		</nav>
	</div>
	<div class='table_cont col'>
		<table class='noselect'>
			<col class='title'>
			<col class='difficulty'>
			<tr>
				<th>Title</th>
				<th>Difficulty</th>
			</tr>
			{% for vid in videos %}
			<tr class='table_row' data-idx='{{ loop.index - 1 }}'>
				<td>{{ vid['vid_name'] }}</td>
				<td>{{ vid['difficulty'] }}</td>
			</tr>
			{% endfor %}
		</table>
	</div>
</body>
</html>